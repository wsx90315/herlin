function SimpleHtmlParser(){this.contentHandler=null}!function(t){"use strict";var e=/^<([-A-Za-z0-9_]+)((?:\s+[\w-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([-A-Za-z0-9_]+)[^>]*>/,r=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,s=t.prototype;s.parse=function(t,r){r&&(this.contentHandler=r);for(var s,a,i,u,l,c,g=!1,p=this,o=function(){return p.parseEndTag.apply(p,arguments)},h=function(){return p.parseStartTag.apply(p,arguments)};t.length>0;){if("<!--"===t.substring(0,4)?(l=t.indexOf("-->"),-1!=l?(this.contentHandler.comment(t.substring(4,l)),t=t.substring(l+3),g=!1):g=!0):"</"===t.substring(0,2)?n.test(t)?(a=RegExp.leftContext,i=RegExp.lastMatch,u=RegExp.rightContext,i.replace(n,o),t=u,g=!1):g=!0:"<"===t.charAt(0)&&(e.test(t)?(a=RegExp.leftContext,i=RegExp.lastMatch,u=RegExp.rightContext,i.replace(e,h),t=u,g=!1):g=!0),g)if(l=t.indexOf("<"),-1===l)this.contentHandler.characters(t),t="";else{for(s=t.length;-1!==l&&s>l&&(c=t.substring(l),!e.test(c)&&!n.test(c)&&"<!--"!==c.substring(0,4));)l=t.indexOf("<",l+1);this.contentHandler.characters(t.substring(0,l)),t=t.substring(l)}g=!0}},s.parseStartTag=function(t,e,n){var r=this.parseAttributes(e,n);this.contentHandler.startElement(e,t,r)},s.parseEndTag=function(t,e){this.contentHandler.endElement(e,t)},s.parseAttributes=function(t,e){var n=this,s=[];return e.replace(r,function(e,r,a,i,u,l,c){s.push(n.parseAttribute(t,e,r,a,i,u,l,c))}),s},s.parseAttribute=function(t,e,n){var r=null;return arguments[3]?r=arguments[3]:arguments[4]&&(r=arguments[4]),{name:n,value:r}}}(SimpleHtmlParser);